<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Online Voting System Using Blockchain</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Chakra+Petch&display=swap" rel="stylesheet">
    <!-- CSS only -->
  
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
      tr:nth-child(even) {
        background-color: #D0E4F5;
      }
        td, th{
                border: 2px solid white;
                font-size: 14px;
                font-family: 'Chakra Petch', sans-serif;
                font-weight: 600;
        }
        th{
          font-family: 'Chakra Petch', sans-serif;
          font-size: 16px;
        }
        .ansh{
          box-shadow: 4px 4px 3px gray;
        }
        .ansh:active{
          transform: translate(4px, 4px);
          border: none;
          outline: none;
        }
        .ansh:focus {
        outline: none;
      }

    </style>
  </head>
  <body>
    <div id="container" class="container" style="width: 700px;">
      <div class="row">
        <div class="col-xs-12 col-sm-8 col-sm-push-2">
          <h1 class="text-center" style="font-family: 'Kalam', cursive; font-size: 42px;">Online Voting System Using Blockchain</h1>
          
          <br/>
        </div>
      </div>

      <div id="loader" class="row">
        <p class="text-center">loading..</p>
      </div>

      <div id="content" >
        <table class="table" >
          <thead style="background-color: #337ab7; color: white; ">
            <th scope="col" >#</th>
            <th scope="col">Name</th>
            <th scope="col">Vote Count</th>
          </thead>
          <tbody id="contestantsResults">

          </tbody>
          <hr/>
          <p id="accountAddress" class="text-center"></p>
        </table>

        <form onSubmit="App.castVote(); return false;" >
          <div class="form-group" style="display:flex; justify-content: center; align-items:center; ">
            <label for="contestantsSelect" style="padding-right: 10px; font-family: Chakra Petch, sans-serif; font-size: 18px; margin: 0px; ">Select Contestant - </label>
            <select class="select-control" id="contestantsSelect" style="font-family: Chakra Petch, sans-serif; font-size: 14px; ">
            </select>
          </div>
          <div style="display: flex; margin: 30px auto; ">
          <button style="margin:auto; justify-content: space-between; align-items:center; font-size: 16px; padding: 15px; border: none;"  type="submit" class="btn btn-primary ansh" >Cast your Vote</button>
          <a style="margin:auto; justify-content: space-between; align-items:center; font-size: 16px; padding: 15px;" id="myBtn" onclick="dis()" class="btn btn-primary ansh">&nbsp;Final Results&nbsp;</a>
         </div>
          
        </form>

      </div>

    </div>

   

<!-- Trigger/Open The Modal -->


<!-- The Modal -->
<div id="myModal" class="modal" style="width: 75%; margin:50px auto; padding:auto;">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close" style="padding: 5px;
    font-size: 50px;">&times;</span>
    <h1 style="text-align: center;">Results</h1>
    <table class="table"  style="width: 80%; margin:25px auto; padding: auto;">
      <thead style="background-color:  #337ab7; color: white; ">
        <th scope="col" >#</th>
        <th scope="col">Name</th>
        <th scope="col">Vote Count</th>
      </thead>
      <tbody id="contestantsR">

      </tbody>
      <hr/>
      <p id="accountAddress" class="text-center"></p>
    </table>
  </div>

</div>

<script>
  document.getElementById ("myBtn").addEventListener ("click", dis, false);
          var pass;
          function dis(){
           pass=prompt("Enter Result Password");
           console.log(pass);
            
           if(pass=='1234'){
            modal.style.display = "block";
           document.getElementById('container').style.display='none';}
           else{
            alert("Wrong Password or Voting is live");
           }
          }
        

// Get the modal

var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 



// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
  document.getElementById('container').style.display='block';
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>

</body>





    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
